# Python基础知识
## 一、Python简介
版本：Python2.6/Python2.7、Python3.X。常用3.7、2.X为过渡版本。

优点：学习成本低、开源、适用人员广、应用领域广。

缺点：运行速度略慢。

解释器：CPython、PyPy、Jython（旧JPython）、IronPython(.net)、IPython。

集成开发环境（IDE）：PyCharm。注意关联解释器、关联.py等。

## 二、基础知识

单行注释：# 注释的内容

多行注释：“”“注释内容”“”或‘’‘注释内容’‘’

快捷键：Ctrl+/

标识符命名规则：由数字、字母、下划线组成，不能以数字开头、不能使用内置关键字、严格区分大小写。

标识符命名习惯：大驼峰、小驼峰、下划线。

数据类型：int（整形）、float（浮点型）、str（字符串）、bool（布尔型）、list（列表、即序列，有序）、tuple（元祖，不可更改）、set（集合，无序）、dict（字典、键值对）

格式化输出：按照一定的格式输出内容，常用：%s（字符串）、%d（有符号的十进制整数）、%f（浮点数）。%06d输出的整数显示位数，不足以0补全，超出当前位数则原样输出。%.2f，表示小数点后显示的小数位数。

	print('我的名字是%s'%name)
	print(f'我的名字是{name}')

print函数默认自带结束语,end = “\n”

\n ：换行、\t ：制表符

**注意斜杠，正斜杠上坡，反斜杠下坡，这里为反斜杠**

输入：input函数、接收的数据为字符串。

数据转换类型：int(x [,base ])、float(x )、str(x )、eval(str)（将字符串中的数据转换成Python表达式原本类型）、tuple(s )、list(s )
注意：True转换为数字类型为1，False转换为整数类型为0

type(num)：显示数据类型

运算符：算数运算符、赋值运算符、复合赋值运算符、比较运算符、逻辑运算符（and,or,not）
and运算符，只要有一个为0，则结果为0，否则为最后一个非0数字
or运算符，所有值为0结果才为0，否则为第一个非零数字

## 三、简单语法

###  3.1、条件语句

if 语句、if else 语句、if elif else 语句、if嵌套
	
	if 条件1:
		条件1成立执⾏的代码
	elif 条件2:
		条件2成立执⾏的代码
	else:
		以上条件都不成立执行的代码

三目运算符：条件成立执行的表达式 if 条件 else 条件不成立执行的表达式

random.randint(0, 2)、random模块

### 3.2、循环

while语句、for语句
```
while 条件：
	条件成立执行的代码1
	条件成立执行的代码2
```
```
for 临时变量 in 序列：
	重复执行的代码1
	重复执行的代码2
```

break：退出整个循环

continue：退出本次循环，继续执行下次循环

else：
- while和for都可配合else使用
- else下方代码缩进含义：当循环正常结束后执行的代码
- break终止循环不会执行else下方缩进的代码
- continue退出循环的方式会执行else下方缩进的代码

# 常见数据类型
## 1、字符串
字符串可用单引、双引、三引号创建，三引号支持字符串换行

字符串为不可变数据类型

下标：即索引、计算机为序列中每个元素分配的从0开始的编号，str[i]

切片：对操作的对象截取其中一部分的操作，支持字符串、列表、元祖。
```
序列[开始位置下标:结束位置下标:步长]
```
1. 下标含首不含尾，正负数均可
1. 步长为选取间隔、正负数均可，默认为1
1. 下标方向与步长方向相反时报错

###  1.1、查找

- find()：检测子串是否在字符串中，有则返回起始位置下标，无则返回-1
- 
```
字符串序列.find(子串，开始位置下标，结束位置下标)
```
*注意：开始位置和结束位置可省略*



- index()：检测子串是否在字符串中，有则返回起始位置下标，无则异常
```
字符串序列.index(子串，开始位置下标，结束位置下标)
```
*注意：开始位置和结束位置可省略*

rfind()：从右查找，类似find
rindex()：从右查找，类似index
count()：返回某个子串在字符串中出现次数，语法类似
区分大小写

###  1.2、修改

- replace()：替换
```
字符串.replace(旧子串，新子串，替换次数)
```
*数据分为可变类型和不可变类型，字符串为不可变类型*

- split()：按指定字符分隔字符串，分割后生成列表
```
	字符串序列.split(分隔字符，num）
```
*num是分隔字符出现的次数，即将来返回数据个数为num+1个*

- join()：用一个字符或字符串合并字符串，即将多个字符串合并为一个字符串，每个字符中都插入
```
	字符或子串.join（多字符串组成的序列）
	思考：位置
```
- capitalize()：将字符串首字母变为大写
```
	字符串.capitalize()
```
- title()：将字符串每个单词首字母变为大写
```
	字符串.title()
```
- lower()：将字符串中大写转小写
```
	字符串.lower()
```
- upper()：将字符串中小写转大写
```
	字符串.upper()
```
- lstrip()：删除字符串左侧空白字符
- rstrip()：删除字符串右侧空白字符
- strip()：删除字符串两侧空白字符
- ljust()：返回一个字符串左对齐，并使用指定字符串（默认空格）填充对应长度的新字符串（既增加内容，所以长度大于下标）
```
	字符串序列.ljust(长度，填充字符)
```
- rjust()：返回一个字符串右对齐，并使用指定字符串（默认空格）填充对应长度的新字符串，语法同ljust
- center()：返回一个字符串居中对齐，并使用指定字符串（默认空格）填充对应长度的新字符串，语法同ljust

###  1.3、判断

- startswith()：检测字符串是否以指定子串开头。
```
	字符串序列.startswith(子串，开始位置下标，结束位置下标）
```
- endswith()：检测字符串是否以指定子串结尾，语法同startswith
- isalpha()：若字符串至少有一个字符且所有字符均为字母返回True，否则False
```
	字符串序列.isalpha()
```
- isdigit()：若字符串只包含数字返回true，否则false

- isalnum()：字符串至少有一个字符且所有字符串都是字母或数字True，否则False

- isspace()：若字符串只包含字符串返回True、否则False

  

## 2、列表

  

  列表可以一次性存储多个数据，且可以为不同数据类型。表达式[数据1，数据2，数据3...]
### 2.1、查找
- index()：返回指定数据所在位置下标。
```
	列表序列.index(数据，开始位置下标，结束位置下标）
```
*注意：若查找的数据不存在则报错*
- count()：统计指定数据在当前列表中出现的次数
- len()：访问列表长度，即列表中数据的个数，len(list)
- in：判断指定数据在某个列表序列，存在返回True，否则返回False
- not in：判断指定数据不在某个列表序列，不存在则True，否则False
```
	'Lily' not in name_list
```
###  2.2、增加
作用：增加指定数据到列表中

- append()：列表结尾追加数据，若追加的数据是一个序列，则追加整个序列作为一个元素到列表。
```
	列表序列.append(数据）
```
*列表为可变类型数据，数据追加时直接在愿列表里追加了制定数据*
- extend()：列表结尾追加数据，若数据是一个序列，则将该序列的数据逐一添加到列表，若为字符串，则分列字母，字符串为可迭代数据
```
	列表序列.extend(数据）
```
extend追加的必须为可迭代序列，字符串和列表都是可迭代序列，但是数字不是

- insert()：指定位置新增数据，位置的下标为指定的下标而不是之后，若添加的数据为列表，则列表作为元素添加
```
	列表序列.insert（位置下标，数据）
```
###  2.3、删除

- del：删除
```
	del 目标
	删除列表
	del 列表
	删除指定数据
	del 列表[x] 
```
- pop()：删除指定下标的数据（默认为最后一个），并返回该数据(返回删除后生成的数据)
```
	列表序列.pop(下标)
```
- remove()：移除列表中某个数据的第一个匹配项
```
	列表序列.remove(数据）
```
- clear()：清空列表
```
	列表序列.clear()
```
### 2.4、修改

- 修改指定下标数据
```
	列表序列[x] = 数据
```
- 逆置：reverse()
```
	列表序列.reverse()
```
- 排序：sort()
```
	列表序列.sort(key = None, reverse = False)
```
*reverse标识排序规则，True降序，False升序（默认）*

### 2.5、复制
- copy()：复制
```
	列表序列2 = 列表序列1.copy()
	问题：地址是否为一个地址，还是另行开辟一个地址
	id（）函数可获得内存地址
```
## 3、元祖
一个元祖可以存储多个数据，元祖内的数据是不可修改的。
特点：定义元祖使用小括号，且逗号隔开各个数据，数据可以是不同的数据类型。
*注意：若定的元祖只有一个数据，则该数据后面也要添加逗号，否则数据类型为唯一的这个数据的数据类型*

###  3.1、常见操作

- 按下标查找数据：元祖[x]
- index()：查找某个数据，与列表、字符串语法相同
- count()：统计某个数据在当前元祖出现的次数，不包含元祖内列表中的数据，True为1
```
	元祖序列.count(数据)
```
- len()：统计元祖中数据的个数
```
	len(元祖序列)
```
- 拆包

  ```
  tuple1 = (1, 2)
  num1, num2 = tuple1
  print(num1) 结果为1
  ```

  

*1、列表直接数据若修改则立即报错
2、若元祖内含列表，则修改列表内数据支持*

## 4、字典
字典里面的数据以键值对储存，与顺序无关，不支持下标

```
命名：符号为大括号{}，数据为键值对形式出现，各个键值对之间逗号隔开
dict1 = {'name':  'Tom', 'age': 20, 'gender': '男'}
```
*键（key）简称k，值（value）简称v*

### 4.1、常见操作

#### 增
字典序列[key] = 值
#### 删
del()/del：删除字典或删除字典中指定键值对
clear()：清空字典

#### 改
字典序列[key] = 值
*若存在该键则修改其value，若不存在则新增键值对*

#### 查
- key值查找：若存在返回value，不存在则报错
- get()：设置默认值若不存在值则返回默认值，不设置默认值时不存在会返回None
```
字典序列.get(key, 默认值)
```
- keys()：返回数据类型为dect_keys的所有键名的数据序列
- values()：返回数据类型为dect_values的所有值的数据序列
- items()：返回数据类型为dect_items的数据序列
```
遍历字典的元素、键值对
```
## 5、集合
集合可以去掉重复数据、集合数据是无序的，不支持下标
创建集合使用{}和set()，但是创建空集合只能用set()，因为{}用来创建空字典

###  5.1、常见操作


#### 	             增
- add()？
- update()，追加的数据是序列(一系列数据？）

	#### 删
- remove（）：删除集合中的指定数据，如果数据不存在则报错
- discard（）：删除集合中指定数据，若数据不存在也不报错
- pop（）：随机删除集合中某个数据，并返回这个数据，默认第一个（虽然无顺序）

	#### 改
- 无

	#### 查
- in：判断数据在集合序列
- not in：判断数据不在集合序列

## 6、 公共操作
###  6.1、运算符

| 运算符 | 描述           | 支持的容器类型                                  |
| ------ | -------------- | ----------------------------------------------- |
| +      | 合并           | 字符串、列表、元祖（有序容器）                  |
| *      | 复制           | 字符串、列表、元祖（容器乘以数字，合并）        |
| in     | 元素是否存在   | 字符串、列表、元祖、字典、集合。字典可识别key值 |
| not in | 元素是否不存在 | 字符串、列表、元祖、字典、集合                  |

### 	6.2、公共方法

| 函数                  | 描述                                                         |
| --------------------- | ------------------------------------------------------------ |
| len()                 | 计算容器中元素个数                                           |
| del或del()            | 删除（字符串不支持del（））                                  |
| max()                 | 返回容器中元素最大值                                         |
| min()                 | 返回容器中元素最小值                                         |
| range(start,end,step) | 生成从start到end的数字，步长为step，供for循环使用，range（1,10,2）含首不含尾，无步长默认1，只数字默认0开始，负数必须含首尾，且尾大于首 |
| enumerate()           | 函数用于将一个可遍历的数据对象（如列表、元祖或字符串）组合为一个索引序列，同时列出数据和数据下标，一般用在for循环当中，即序列可循环下标和数据 |

###  6.3、容器类型转换

| 函数      | 描述                         |
| --------- | ---------------------------- |
| tuple（） | 将某个序列转换为元祖         |
| list（）  | 将某个序列转换为序列（列表） |
| set（）   | 将某个序列转换为集合         |

##  7、推导式
作用：用一个表达式创建一个有规律的列表或控制一个有规律的列表，列表推导式又叫列表生成式

列表、字典、集合才有推导式

同样的需求、推导式代码更少，化简代码

### 7.1、列表推导式

```
[xx for xx in range()]
```

### 7.2、字典推导式(两个列表合并)

```
{list1[i]: list2[i] for i in range(len(list1))}
```

*如果两个列表元素数量不匹配，则字典内所有值都为值列表最后一个数据*

### 7.3、集合推导式

```
{xx for xx in ...}
```

### 7.4、延伸补充

```
{(i, j) for i in list1 for j in list2}
{(list1[i], list2[i]) for i in range(len(list1))}
```

# 函数

## 一、函数基础使用

定义：函数就是将一段具有独立功能的代码块整合到一个整体并命名，在需要的位置调用这个名称即可完成对应的请求。

意义：函数开发过程中，可以更高效的实现代码重用

作用：封装代码、高效代码重用

- 定义


```
def 函数名(参数)：
	代码1
	代码2
	......
```

- 调用

```python
函数名(参数)
对象.函数名(参数)
```

- 函数的参数：函数调用的时候可以传入真实数据，增大函数使用的灵活性
  - 形参：函数定义时书写的参数（非真实数据）
  - 实参：函数调用时书写的参数（真实数据）

- 函数的返回值

  - 作用：函数调用后，返回需要的计算结果

  - 写法

    ```python
    return 表达式
    ```

- 函数的说明文档

  - 作用：保存函数解释说明的信息

  - 写法

    ```python
    def 函数名():
    	"""函数说明文档“”“
    ```

    

- 函数嵌套调用：一个函数内部嵌套调用另一个函数

## 二、函数提高

- 变量作用域

  - 全局变量：函数体内外都能生效

  - 局部变量：当前函数体内部生效

    **若要在局部函数内修改全局变量，则需要global 变量名 来声明全局变量**

- 函数多返回值写法

  ```python
  return 表达式1，表达式2
  ```

  **多返回值时，默认为元祖类型**

  **return后面可以连接列表，元祖或字典，以返回多个值**

  **return主要表示函数结束跳出函数，无返回值直接跳出函数**

- 函数的参数

  - 位置参数
    
    - 形参和实参的个数和书写顺序必须一致
  - 关键字参数
    - 写法：key =value
    - 特点：形参和实参的书写顺序可以不一致；关键字参数必须书写在位置参数的后面
  - 缺省参数
    - 缺省参数就是默认参数
    - 写法：key=value
  - 不定长位置参数（*args）
    
    - 收集所有位置参数，返回一个元祖
    
    - 拆包：元祖
    
      ```
      tuple1 = (1, 2)
      num1, num2 = tuple1
      ```
    
  - 不定长关键字参数（**kwargs）
    
    - 收集所有关键字参数，返回一个字典
    
    - 拆包：字典（拆出来的为key）
    
      ```
      dict1 = {'name': 'Tom', 'age': 18}
      a, b = dict1
      print(a)
      print(dict1[a])
      ```
    
      
  
- 交换变量值

  1、中间变量传递法

  2、a, b = b, a

- 引用：Python中，数据的传递都是通过引用

- 可变和不可变类型：数据能够直接进行修改，如果能直接修改那么就是可变，否则为不可变，可查看数据修改后内存地址（即引用地址）测试

  - 可变类型：列表，字典，集合（元素都为引用？）
  - 不可变类型：整型，浮点型，字符串，元祖

  

## 三、函数加强

- 学员管理系统

- 递归

  特点：函数内部自己调用自己、必须有出口

  注意：sum（num），无法这样调用

  ```python
  def sum_numbers(num):
      if num == 1:
          return 1
      return sum_numbers(num) + sum_numbers(num - 1)
  
  print(sum_numbers(5))
  ```

  

- lambda表达式

  如果一个函数只有一个返回值，且只有一句代码，可以用lambda简化

  ```
  lambda 参数列表： 表达式
  ```

  *参数可有可无，*

  *lambda表达式能接收任何数量的参数，但只能返回一个表达式的值*

  - 无参数

    ```python
    fn1 = lambda: 100
    ```

    

  - 一个参数

    ```python
    fn1 = lambda a: a
    ```

    

  - 默认参数

    ```
    fn1 = lambda a, b, c=100: a + b + c
    ```

    

  - 可变参数

    ```
    fn1 = lanbda *args: args
    ```

    

  - 可变参数

    ```
    fn1 = lambda **kwargs: kwargs
    ```

    

- 高阶函数

  - abs()：求数字绝对值

  - round（）：对数字四舍五入计算

  - map（func，lst）：将传入的函数变量func作用到lst变量的每个元素，并将结果组成新的列表（python2）/迭代器（Python3）返回。

    ```
    list1 = [1, 2, 3, 4, 5]
    def func(x):
        return x ** 2
    
    list2 = [1, 1, 2, 3]
    print(map(func, list1))
    print(map(func, list2))
    print(list(map(func, list1)))
    print(list1)
    ```

    

  - reduce（func，lst）：其中func必有有两个参数。每个func计算的结果继续和序列的下一个元素做累积计算。

    ```
    def func1(a, b):
        return a * b
    print(functools.reduce(func1, list1))
    ```

    

  - fulter（func，lst）：过滤序列，过滤掉不符合条件的元素，返回一个filter对象。如果要转换为列表，可以使用list()来转换

    ```
    list3 = [1, 2, 3, 4, 5, 6, 7, 8]
    def func2(x):
        return x % 2 == 0
    print(list(filter(func2, list3)))
    ```

    


##四、文件操作

文件操作步骤：1、打开；2、操作；3、关闭。

###4.1、文件操作步骤

- 打开：open（name， mode）

  | 模式 | 描述                                                         |
  | ---- | ------------------------------------------------------------ |
  | r    | 只读。文件指针放在文件开头。默认模式                         |
  | rb   | 二进制格式打开一个文件用户只读，文件指针放在文件开头。默认模式 |
  | r+   | 打开一个文件用于读写。文件指针将会放在文件的开头。           |
  | rb+  | 以二进制格式打开⼀一个文件⽤用于读写。文件指针将会放在文件的开头。 |
  | w    | 写入                                                         |
  | a    | 打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。新内容将会被写入到已有内容之后，若文件不存在，创建新文件进行写入。 |

- 操作：

  - 读

    文件对象.read()

    文件对象.readlines()

    文件对象.readline()

  - 写

    文件对象.write()

  - seek（偏移量，起始位置）

    移动文件指针，其实位置0：文件开头，1：当前位置，2：文件结尾

- 关闭：文件对象.close()

### 4.2、文件和文件夹操作

导入os包，os.函数名

- os.rename(原文件名，新文件名)
- 获取当前目录：os.gecwd()
- 获取目录列表：os.listdir()
- os.mkdir(文件名)
- os.rmdir(文件名)
- os.remove(文件名)
- 改变默认目录：os.chdir(目录)

# 面向对象

## 一、面向对象基础

### 1、基础概念

面向对象：就是讲编程当成一个事物，对外界来说，事物是直接使用的，不用去管他内部的情况。而编程就是设置事物能够做什么事。

类：对一系列具有相同特征和行为的事物的统称，是一个抽象的概念，不是真实具体的事物。类包含属性和方法。

对象：类创建出来的真实存在的事物

### 2、基础方法

- 创建类

  ```
  class 类名：
  	代码
  ```

  

- 创建对象

  ```
  对象 = class()
  ```

  

- 添加对象属性

  ```
  1、类外面
  对象名.属性名 = 值
  2、类里面
  self.属性名 = 值
  ```

  

- 获取对象属性

  

### 3、魔法方法

- 初始化：\_init_()

- 输出对象信息：\_str_()

- 删除对象时调用：\_del_()

## 二、面向对象增强

###1、继承

概念：指多个类之间的所属关系，即子类默认继承父类的所有属性和方法



- 继承特点

  - 子类默认拥有父类所有属性和方法
  - 一个类有多个父类时候（即多继承），默认使用第一个父类的同名属性和方法
  - 子类重写父类同名方法和属性
  - 子类调用父类同名方法和属性
  - 子类和父类具有同名属性和方法，默认使用子类的同名属性和方法
  - 子类如想调用不同父类属性和方法，则需要初始化父类属性并重写方法调用父类方法

- super()方法快速调用父类方法，调用最上层父类方法
- 私有权限
  - 不能继承给子类的属性和方法需要添加私有权限
  - 语法：属性名和方法前面加上两个下划线__

### 2、多态、类方法、类属性

- 面向对象三大特性
  - 封装
    - 将属性和方法书写到类的里面的操作即为封装
    - 封装可以为属性和方法添加私有权限
  - 继承
    - 子类默认继承父类的所有属性和方法
    - 子类可以重写父类属性和方法
  - 多态
    - 传入不同的对象，产生不同的结果
- 类属性（类属性和实例属性区别）
  - 归属于类对象的属性，所有对象共有的属性
  - 区别于实例属性（实例属性即init方法里属性）
  - 实例属性不可以通过类访问
  - 类属性只能通过类对象修改，不可通过实例对象修改，若用实例对象修改则为创建了一个实例对象
- 实例属性
  - 实例属性不能通过类访问
- 类方法
  - 装饰器@classmethod标识为类方法，第一个参数必须是类对象，一般以cls作为第一个参数
  - 当方法中需要使用类对象时（如访问私有属性时），定义类方法
  - 类方法一般和类属性配合使用
- 静态方法
  - 通过装饰器@staticmethod来装饰，静态方法不需要传递对象也不需要传递实例对象
  - 静态方法也能通过实例对象和类对象访问。
  - 当方法中既不需要使用实例对象（如实例对象，实例属性），也不需要使用类对象（如类属性、类方法、创建实例等）时，定义静态方法
  - 取消不需要的参数传递，可以减少不必要的内存暂用和性能消耗

### 3、异常

- 异常语法

  ```python
  try:
      print(num)
  except(NameError, ZeroDivisionError):
      print('有指定性错误')
  except(NameError, ZeroDivisionError) as result:
      print(result)
  except Exception as result:
      print('不知道什么错误反正有错误')
      print(f'错误内容{result}')
  except:
      print('不知道什么错误反正有错误')
  else:
      print('没有错误')
  finally:
      print('不管有没有错误，我都得执行啊')
  ```

  

- 捕获异常

- 自定义异常

  ```python
  class ShotInputError(Exception):
      def __init__(self, lenth, short_lenth):
          self.lenth = lenth
          self.short_lenth = short_lenth
      def __str__(self):
          return f'最小密码长度为{self.short_lenth},您输入密码长度为{self.lenth}'
  
  def main():
      try:
          con = input('请输入密码')
          if len(con) < 3:
              raise ShotInputError(len(con), 3)
      except Exception as result:
          print(result)
      else:
          print('密码输入符合要求')
  
  main()
  ```

  

### 4、模块和包

- 导入模块

  - import 模块名
  - from 模块名 import 功能名
  - from 模块名 import *
  - import 模块名 as 别名
  - from 模块名 import 功能名 as 别名
  - 调用多个模块中含同名方法时，调用的是后面导入模块的功能

- 模块

  - 每个python文件都可作为一个模块，模块名即为文件名，需符合标识符命名规则

  - 实际开发中，为测试会添加测试信息，为避免调用时执行，可做以下方法

    ```
    if __name__ == "__main__":
    	testA(1,1)
    ```

    

- 导入包

- \_ all\_ = []：允许导入的模块或功能列表

  

  